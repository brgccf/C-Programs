#include <stdio.h>

/*

Problema:

Eh dado um mapa inicialmente como esse abaixo.

16 49
........................................#########
........................................#.......#
..............#.#........................#......#
..............###.........................##....#
.............#...#..........................#####
............#....#...............................
...........#..#.#.#...................###........
...........#.......#.................#...#.......
..........##....##..#...............#.###........
.........#..##.....#................#............
..#######.....####..............########.........
.#.......##....................#........#........
###########....................#........#........
.#.#..#.#.......................#......#.........
.#.#..#.#........................#....#..........
.#.#..#.#.........................####...........

Dada uma posicao no mapa colorir a regiao que
a compreende.

Por exemplo: (x,y) x -> linha de 0 a n-1
                   y -> coluna de 0 a m-1
2
11 4
1 44

RESP:
........................................#########
........................................#ooooooo#
..............#.#........................#oooooo#
..............###.........................##oooo#
.............#...#..........................#####
............#....#...............................
...........#..#.#.#...................###........
...........#.......#.................#...#.......
..........##....##..#...............#.###........
.........#..##.....#................#............
..#######.....####..............########.........
.#ooooooo##....................#........#........
###########....................#........#........
.#.#..#.#.......................#......#.........
.#.#..#.#........................#....#..........
.#.#..#.#.........................####...........

tamanho maximo do tabuleiro = 100 x 100

*/

int m, n; 
char mapa[100][100+1];
//cima, baixo, direita, esquerda
int dir[4][2] = {{1, 0}, {-1, 0}, {0, 1}, {0, -1}};

int ler_mapa()
{
	if(scanf("%d%d",&n,&m) != 2) return 0;
	int i;
	for(i=0;i<n;i++)      
		scanf("%s", mapa[i]); 
	return 1;         
}


void paint(int x, int y)
{
	if(x < 0 || y < 0 || x == n || y == m) return;
	if(mapa[x][y] == '#') return;
	if(mapa[x][y] == 'o') return;
	mapa[x][y] = 'o';
	int k;
	for(k = 0; k < 4; k++) paint(x+dir[k][0], y+dir[k][1]);
	
}

void processa()
{
	unsigned int casos;
	scanf("%d", &casos);
	int x, y;
	while(casos != -1)
	{
		scanf("%d %d", &x, &y);
		paint(x, y);
		casos--;
	}
	
	int i, j;
	for(i = 0; i < n; i++)
	{
		for(j = 0; j < m; j++)
		{
			printf("%c", mapa[i][j]);
		}
		printf("\n");
	}
}

int main() 
{
	
 	freopen ("in.txt","r",stdin);
 	freopen ("out.txt","w",stdout);
	
	while(ler_mapa())
	{
		processa();
	}
	
	return 0;
}
